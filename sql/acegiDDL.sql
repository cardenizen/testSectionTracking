/*
 * Copyright 2009 Minnesota Department of Transportation
 * Author(s): Dennis Carroll
 *
 * This file is part of TestSectionTracking.
 * 
 * TestSectionTracking is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * TestSectionTracking is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU Lesser General Public License
 * along with TestSectionTracking.  If not, see <http://www.gnu.org/licenses/>.
 */
CREATE TABLE PERSON
(
   ID decimal(19) PRIMARY KEY NOT NULL,
   VERSION decimal(19) NOT NULL,
   DESCRIPTION varchar2(255) NOT NULL,
   EMAIL varchar2(255) NOT NULL,
   EMAIL_SHOW decimal(1) NOT NULL,
   ENABLED decimal(1) NOT NULL,
   PASSWD varchar2(255) NOT NULL,
   USER_REAL_NAME varchar2(255) NOT NULL,
   USERNAME varchar2(255) NOT NULL
)
-- Production: MDTB01
--   TABLESPACE MDTB01 NOLOGGING
-- Test: MNR_DATA
--   TABLESPACE MNR_DATA NOLOGGING 
-- Dev: USERS
   TABLESPACE USERS NOLOGGING
   PCTFREE 10
   INITRANS 1
   MAXTRANS 255
  STORAGE ( 
   INITIAL 65536
   MINEXTENTS 1
   MAXEXTENTS 2147483645
 )
   NOCACHE
;
CREATE UNIQUE INDEX TST_PERSON_USERNAME_UIDX ON PERSON(USERNAME)
;
CREATE TABLE REQUESTMAP
(
   ID decimal(19) PRIMARY KEY NOT NULL,
   VERSION decimal(19) NOT NULL,
   CONFIG_ATTRIBUTE varchar2(255) NOT NULL,
   URL varchar2(255) NOT NULL
)
-- Production: MDTB01
--   TABLESPACE MDTB01 NOLOGGING
-- Test: MNR_DATA
--   TABLESPACE MNR_DATA NOLOGGING 
-- Dev: USERS
   TABLESPACE USERS NOLOGGING
   PCTFREE 10
   INITRANS 1
   MAXTRANS 255
  STORAGE ( 
   INITIAL 65536
   MINEXTENTS 1
   MAXEXTENTS 2147483645
 )
   NOCACHE
;
CREATE UNIQUE INDEX TST_REQUESTMAP_URL_UIDX ON REQUESTMAP(URL)
;
CREATE TABLE AUTHORITY
(
   ID decimal(19) PRIMARY KEY NOT NULL,
   VERSION decimal(19) NOT NULL,
   AUTHORITY varchar2(255) NOT NULL,
   DESCRIPTION varchar2(255) NOT NULL
)
-- Production: MDTB01
--   TABLESPACE MDTB01 NOLOGGING
-- Test: MNR_DATA
--   TABLESPACE MNR_DATA NOLOGGING 
-- Dev: USERS
   TABLESPACE USERS NOLOGGING
   PCTFREE 10
   INITRANS 1
   MAXTRANS 255
  STORAGE ( 
   INITIAL 65536
   MINEXTENTS 1
   MAXEXTENTS 2147483645
 )
   NOCACHE
;
CREATE UNIQUE INDEX TST_AUTHORITY_AUTHORITY_UIDX ON AUTHORITY(AUTHORITY)
;
--drop TABLE AUTHORITY_PERSON purge
CREATE TABLE AUTHORITY_PERSON
(
   AUTHORITY_ID decimal(19) NOT NULL,
   PERSON_ID decimal(19) NOT NULL,
   CONSTRAINT PERSON_AUTH_PK PRIMARY KEY (PERSON_ID,AUTHORITY_ID)
)
-- Production: MDTB01
--   TABLESPACE MDTB01 NOLOGGING
-- Test: MNR_DATA
--   TABLESPACE MNR_DATA NOLOGGING 
-- Dev: USERS
   TABLESPACE USERS NOLOGGING
   PCTFREE 10
   INITRANS 1
   MAXTRANS 255
  STORAGE ( 
   INITIAL 65536
   MINEXTENTS 1
   MAXEXTENTS 2147483645
 )
   NOCACHE
;


INSERT INTO PERSON (ID,VERSION,DESCRIPTION,EMAIL,EMAIL_SHOW,ENABLED,PASSWD,USER_REAL_NAME,USERNAME) VALUES (67,1,'Test Section Tracking Admin','tim.clyne@state.mn.us',1,1,'d033e22ae348aeb5660fc2140aec35850c4da997','Tim Clyne','clyn1tim');
INSERT INTO PERSON (ID,VERSION,DESCRIPTION,EMAIL,EMAIL_SHOW,ENABLED,PASSWD,USER_REAL_NAME,USERNAME) VALUES (68,2,'MnDot Developer','richard.fisher@state.mn.us',0,1,'d7acf961e75afb64e9124bb99bb254b2cdb9e92a','Richard Fisher','fish1ric');
INSERT INTO PERSON (ID,VERSION,DESCRIPTION,EMAIL,EMAIL_SHOW,ENABLED,PASSWD,USER_REAL_NAME,USERNAME) VALUES (175,4,'A MnRoad Administrator','dennis.carroll@dot.state.mn.us',1,1,'6e9aeaf8fb2ff6d7b5d7f777f899036a967e8ef3','Dennis Carroll','carr1den');
INSERT INTO PERSON (ID,VERSION,DESCRIPTION,EMAIL,EMAIL_SHOW,ENABLED,PASSWD,USER_REAL_NAME,USERNAME) VALUES (176,1,'A MnRoad Maintainer','Ben.Worel@dot.state.mn.us',1,1,'6ccb4b7c39a6e77f76ecfa935a855c6c46ad5611','Ben Worel','wore1ben');
INSERT INTO PERSON (ID,VERSION,DESCRIPTION,EMAIL,EMAIL_SHOW,ENABLED,PASSWD,USER_REAL_NAME,USERNAME) VALUES (177,2,'A MnRoad User','cardenizen@hotmail.com',1,1,'2d33e263138b441b4acc395f49f59d70902cd1ba','Some roadie','user');


INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (178,0,'ROLE_ADMIN, ROLE_STAFF','/person/edit/*');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (179,0,'ROLE_ADMIN, ROLE_STAFF','/person/save');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (180,0,'ROLE_ADMIN, ROLE_STAFF','/person/create');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (181,0,'ROLE_ADMIN, ROLE_STAFF','/person/list');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (182,0,'ROLE_ADMIN','/authority/edit/*');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (183,0,'ROLE_ADMIN','/authority/save');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (184,0,'ROLE_ADMIN','/authority/create');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (185,0,'ROLE_ADMIN','/authority/list');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (186,0,'ROLE_ADMIN','/requestmap/edit/*');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (187,0,'ROLE_ADMIN','/requestmap/save');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (188,0,'ROLE_ADMIN','/requestmap/create');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (189,0,'ROLE_ADMIN','/requestmap/list');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (190,0,'ROLE_ADMIN, ROLE_STAFF','/testSection/edit/**');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (191,0,'ROLE_ADMIN, ROLE_STAFF','/testSection/create');
INSERT INTO REQUESTMAP (ID,VERSION,CONFIG_ATTRIBUTE,URL) VALUES (192,0,'ROLE_ADMIN, ROLE_STAFF','/testSection/update/**');

INSERT INTO AUTHORITY (ID,VERSION,AUTHORITY,DESCRIPTION) VALUES (193,1,'ROLE_ADMIN','App admin');
INSERT INTO AUTHORITY (ID,VERSION,AUTHORITY,DESCRIPTION) VALUES (194,1,'ROLE_STAFF','MnRoad staff user');
INSERT INTO AUTHORITY (ID,VERSION,AUTHORITY,DESCRIPTION) VALUES (195,1,'ROLE_USER','App user');

INSERT INTO AUTHORITY_PERSON (AUTHORITY_ID,PERSON_ID) VALUES (193,67);
INSERT INTO AUTHORITY_PERSON (AUTHORITY_ID,PERSON_ID) VALUES (194,67);
INSERT INTO AUTHORITY_PERSON (AUTHORITY_ID,PERSON_ID) VALUES (195,67);
INSERT INTO AUTHORITY_PERSON (AUTHORITY_ID,PERSON_ID) VALUES (194,68);
INSERT INTO AUTHORITY_PERSON (AUTHORITY_ID,PERSON_ID) VALUES (195,68);
INSERT INTO AUTHORITY_PERSON (AUTHORITY_ID,PERSON_ID) VALUES (193,175);
INSERT INTO AUTHORITY_PERSON (AUTHORITY_ID,PERSON_ID) VALUES (193,176);
INSERT INTO AUTHORITY_PERSON (AUTHORITY_ID,PERSON_ID) VALUES (195,177);
